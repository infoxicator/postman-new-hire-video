import React, { useMemo } from "react";
import {
  Easing,
  interpolate,
  spring,
  useCurrentFrame,
  useVideoConfig,
} from "remotion";
import { loadFont, fontFamily } from "@remotion/google-fonts/Inter";

const weight = "600" as const;

loadFont("normal", {
  weights: ["400", weight],
});

export const ReactRouterLogo: React.FC<{
  outProgress: number;
}> = ({ outProgress }) => {
  const { fps } = useVideoConfig();
  const frame = useCurrentFrame();

  const style: React.CSSProperties = useMemo(() => {
    return {
      height: 250,
      width: 250,
      scale: String(1 - outProgress),
      backgroundColor: 'black',
      borderRadius: '50%',
    };
  }, [outProgress]);

  const scaleIn = (delay: number): React.CSSProperties => ({
    scale: spring({
      fps,
      frame,
      config: {
        damping: 200,
      },
      delay,
    }),
  });

  const fadeIn = (delay: number): React.CSSProperties => ({
    opacity: interpolate(frame, [delay, delay + 30], [0, 1], {
      extrapolateRight: "clamp",
      extrapolateLeft: "clamp",
      easing: Easing.in(Easing.ease),
    }),
  });

  return (
    <div style={{ position: 'relative', display: 'inline-block' }}>
    <svg 
      version="1.0" 
      xmlns="http://www.w3.org/2000/svg"
      width="300.000000pt" 
      height="314.000000pt" 
      viewBox="0 0 300.000000 314.000000"
      preserveAspectRatio="xMidYMid meet"
      style={style}
    >
      <metadata>
      Created by potrace 1.10, written by Peter Selinger 2001-2011
      </metadata>
      <g transform="translate(0.000000,314.000000) scale(0.100000,-0.100000)"
      fill="#ffffff" stroke="none">
      <path 
        style={scaleIn(0)}
        d="M1487 2850 c-27 -5 -83 -25 -125 -45 -74 -34 -92 -51 -515 -476 -240
      -242 -444 -454 -452 -470 -19 -36 -22 -87 -7 -116 31 -58 110 -81 170 -49 15
      8 214 202 442 431 426 427 460 457 548 471 44 7 102 -8 145 -38 63 -45 89
      -163 52 -243 -12 -26 -133 -156 -350 -375 -183 -184 -339 -346 -349 -360 -46
      -70 13 -170 102 -170 15 0 48 13 73 29 24 16 195 180 379 366 184 185 347 343
      363 351 41 22 126 21 172 -2 127 -63 138 -223 21 -332 -22 -22 -80 -80 -128
      -129 -105 -108 -108 -122 -45 -190 54 -59 98 -79 130 -59 34 23 275 274 303
      315 57 87 82 213 63 314 -37 194 -211 348 -404 358 -25 2 -48 6 -51 10 -2 5
      -13 42 -24 84 -25 96 -57 151 -130 218 -95 88 -250 131 -383 107z m188 -44
      c85 -22 127 -47 191 -112 70 -70 99 -134 110 -237 l7 -65 91 -4 c97 -5 163
      -29 231 -86 84 -70 145 -199 145 -307 0 -65 -28 -158 -63 -210 -33 -48 -297
      -315 -312 -315 -6 0 -34 24 -63 53 l-52 52 131 130 c148 147 178 191 186 268
      7 72 -10 121 -63 173 -77 78 -200 92 -288 32 -17 -11 -193 -182 -391 -379
      -388 -387 -386 -384 -439 -336 -24 21 -30 39 -27 82 1 11 142 161 346 365 378
      379 384 387 385 498 0 132 -93 225 -225 225 -117 0 -117 0 -595 -478 -458
      -458 -465 -464 -521 -434 -35 18 -48 40 -49 77 0 30 36 70 428 468 235 239
      451 451 480 471 106 74 242 100 357 69z"/>
      <path 
        style={scaleIn(15)}
        d="M1512 2493 c-40 -22 -672 -652 -714 -711 -16 -23 -41 -68 -56 -100
      -24 -51 -26 -68 -25 -157 2 -195 80 -320 250 -401 82 -38 165 -48 258 -31 l76
      14 -25 -26 c-13 -14 -27 -37 -31 -51 -4 -16 13 -105 43 -230 28 -113 64 -272
      82 -355 44 -201 57 -225 130 -225 37 0 83 43 118 110 7 14 21 35 30 48 l18 23
      94 -95 c98 -100 134 -121 190 -111 78 14 144 109 122 174 -6 17 -43 69 -81
      115 -39 46 -71 88 -71 94 0 9 8 13 102 47 81 28 111 93 69 147 -21 26 -86 57
      -411 193 -113 48 -229 98 -259 111 -29 13 -66 24 -82 24 -16 0 -29 5 -29 10 0
      6 4 10 9 10 5 0 30 16 56 36 53 40 51 40 142 -33 53 -44 90 -54 125 -36 28 14
      45 51 35 78 -4 8 -38 40 -77 72 l-70 57 77 78 c91 91 92 91 88 -53 -2 -105 11
      -149 49 -167 18 -8 30 -6 54 8 42 26 46 55 40 272 -5 158 -4 180 11 187 24 14
      283 277 298 303 51 93 -49 208 -141 162 -17 -9 -188 -173 -381 -364 -233 -231
      -365 -355 -394 -370 -121 -60 -282 37 -281 170 1 78 28 112 374 460 184 184
      339 345 345 357 16 31 14 95 -5 121 -19 27 -65 52 -96 52 -13 0 -38 -8 -56
      -17z m112 -44 c19 -15 26 -29 26 -57 0 -34 -19 -54 -344 -376 -229 -228 -351
      -356 -367 -386 -36 -70 -33 -161 6 -226 60 -96 179 -138 283 -99 39 15 106 76
      418 386 407 405 400 400 458 343 52 -53 43 -70 -131 -245 -130 -131 -159 -156
      -174 -148 -58 31 -119 -20 -119 -99 0 -46 -2 -50 -88 -135 l-88 -87 -34 25
      c-47 34 -82 33 -115 -7 -31 -37 -28 -68 11 -109 l25 -26 -36 -22 c-152 -89
      -326 -77 -467 33 -45 36 -64 61 -95 123 -37 74 -38 80 -38 182 0 99 2 111 33
      176 30 64 62 99 385 423 333 333 354 352 388 352 22 0 47 -8 63 -21z m164
      -861 c9 -9 12 -68 12 -205 0 -170 -2 -194 -16 -200 -9 -3 -24 -2 -33 4 -24 15
      -29 373 -6 397 20 19 27 20 43 4z m-250 -349 c79 -59 107 -86 107 -102 0 -16
      -7 -23 -25 -25 -18 -2 -52 18 -125 73 -98 75 -112 92 -101 121 10 26 36 14
      144 -67z m-115 -205 c45 -20 206 -88 357 -151 151 -63 281 -122 288 -131 15
      -20 15 -44 0 -65 -7 -9 -60 -31 -118 -48 -58 -17 -107 -33 -109 -34 -2 -2 42
      -55 98 -118 88 -100 101 -119 101 -151 0 -55 -42 -96 -104 -103 l-49 -6 -113
      119 c-62 65 -116 115 -119 112 -4 -4 -32 -48 -63 -99 -41 -67 -65 -96 -85
      -103 -48 -17 -60 8 -107 224 -23 107 -59 266 -81 352 -44 177 -46 194 -22 220
      22 25 33 23 126 -18z"/>
      <path 
        style={fadeIn(30)}
        d="M2134 1443 c-26 -5 -295 -263 -294 -284 0 -33 40 -69 75 -69 36 0
      100 51 238 191 73 74 82 102 45 136 -30 26 -39 30 -64 26z m45 -47 c6 -7 9
      -20 5 -29 -10 -27 -255 -247 -274 -247 -11 0 -24 8 -29 18 -9 14 10 37 122
      144 72 70 139 127 148 128 9 0 22 -6 28 -14z"/>
      <path 
        style={fadeIn(35)}
        d="M1964 1070 c-24 -9 -54 -47 -54 -68 0 -7 11 -24 25 -37 24 -25 27
      -25 189 -25 l164 0 25 30 c29 34 26 61 -10 90 -23 18 -41 20 -172 19 -80 -1
      -156 -5 -167 -9z m334 -62 l3 -28 -135 -2 c-75 -1 -152 -2 -172 -2 -44 -1 -66
      23 -45 48 12 14 37 16 180 14 l166 -3 3 -27z"/>
      </g>
    </svg>
    <div
      style={{
        ...fadeIn(45),
        position: 'absolute',
        bottom: -60,
        left: '50%',
        transform: 'translateX(-50%)',
        fontFamily,
        fontSize: 32,
        fontWeight: weight,
        color: '#333',
        textAlign: 'center',
        letterSpacing: '0.05em',
        whiteSpace: 'nowrap',
      }}
    >
      mcpui.dev
    </div>
    </div>
  );
};
